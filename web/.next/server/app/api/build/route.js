"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/build/route";
exports.ids = ["app/api/build/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbuild%2Froute&page=%2Fapi%2Fbuild%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbuild%2Froute.ts&appDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbuild%2Froute&page=%2Fapi%2Fbuild%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbuild%2Froute.ts&appDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_AI_App_Builder_project_web_app_api_build_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/build/route.ts */ \"(rsc)/./app/api/build/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/build/route\",\n        pathname: \"/api/build\",\n        filename: \"route\",\n        bundlePath: \"app/api/build/route\"\n    },\n    resolvedPagePath: \"E:\\\\AI App Builder\\\\project\\\\web\\\\app\\\\api\\\\build\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_AI_App_Builder_project_web_app_api_build_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/build/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZidWlsZCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYnVpbGQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZidWlsZCUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDQUklMjBBcHAlMjBCdWlsZGVyJTVDcHJvamVjdCU1Q3dlYiU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q0FJJTIwQXBwJTIwQnVpbGRlciU1Q3Byb2plY3QlNUN3ZWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ1c7QUFDeEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1hcHAtYnVpbGRlci13ZWIvPzg3MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcQUkgQXBwIEJ1aWxkZXJcXFxccHJvamVjdFxcXFx3ZWJcXFxcYXBwXFxcXGFwaVxcXFxidWlsZFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYnVpbGQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9idWlsZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYnVpbGQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJFOlxcXFxBSSBBcHAgQnVpbGRlclxcXFxwcm9qZWN0XFxcXHdlYlxcXFxhcHBcXFxcYXBpXFxcXGJ1aWxkXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9idWlsZC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbuild%2Froute&page=%2Fapi%2Fbuild%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbuild%2Froute.ts&appDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/build/route.ts":
/*!********************************!*\
  !*** ./app/api/build/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _app_services_gemini__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/services/gemini */ \"(rsc)/./app/services/gemini.ts\");\n\n\nasync function POST(request) {\n    try {\n        const { projectId, messages } = await request.json();\n        const conversationText = Array.isArray(messages) ? messages.slice(-40).map((m)=>`${m.role?.toUpperCase?.() || \"USER\"}: ${m.content || \"\"}`).join(\"\\n\") : \"\";\n        const prompt = `You are a senior product engineer.\r\n\r\nBased on the user conversation below, generate a small web app blueprint and starter code.\r\n\r\nConversation:\r\n${conversationText}\r\n\r\nReturn JSON ONLY with this structure:\r\n{\r\n  \"blueprint\": {\r\n    \"app_name\": \"string\",\r\n    \"description\": \"string\",\r\n    \"components\": [\"string\"],\r\n    \"features\": [\"string\"],\r\n    \"pages\": [\"string\"]\r\n  },\r\n  \"files\": [\r\n    { \"path\": \"string\", \"content\": \"string\" }\r\n  ]\r\n}\r\n\r\nConstraints:\r\n- Keep it minimal and consistent.\r\n- Prefer React + Tailwind classes in code.\r\n- IMPORTANT: Do NOT generate authentication that calls real network endpoints (no /api/login, /api/auth, etc.) unless you also generate the server/backend for it.\r\n- If the user asks for sign-in/sign-up, implement a purely client-side mock (e.g. localStorage) that never fails in preview.\r\n- Do not include markdown fences.\r\n`;\n        const response = await (0,_app_services_gemini__WEBPACK_IMPORTED_MODULE_1__.generateText)(prompt);\n        const extractJson = (raw)=>{\n            const start = raw.indexOf(\"{\");\n            const end = raw.lastIndexOf(\"}\");\n            if (start === -1 || end === -1 || end <= start) return null;\n            return raw.slice(start, end + 1);\n        };\n        const safeParse = (raw)=>{\n            try {\n                return JSON.parse(raw);\n            } catch  {\n                const extracted = extractJson(raw);\n                if (!extracted) return null;\n                try {\n                    return JSON.parse(extracted);\n                } catch  {\n                    return null;\n                }\n            }\n        };\n        let generatedData = safeParse(response);\n        if (!generatedData?.blueprint || !Array.isArray(generatedData?.files)) {\n            generatedData = {\n                blueprint: {\n                    app_name: \"Generated App\",\n                    description: \"App based on your chat requirements\",\n                    components: [\n                        \"App\"\n                    ],\n                    features: [\n                        \"Core flows based on your answers\"\n                    ],\n                    pages: [\n                        \"Home\"\n                    ]\n                },\n                files: [\n                    {\n                        path: \"src/App.tsx\",\n                        content: 'export default function App() {\\n  return (\\n    <div className=\"min-h-screen bg-black text-white p-8\">\\n      <h1 className=\"text-2xl font-bold\">Generated App</h1>\\n      <p className=\"mt-2 text-gray-300\">This is a starter app generated from your requirements.</p>\\n    </div>\\n  );\\n}\\n'\n                    }\n                ]\n            };\n        }\n        const files = Array.isArray(generatedData.files) ? generatedData.files.filter((f)=>typeof f?.path === \"string\" && typeof f?.content === \"string\") : [];\n        const upsertFile = (path, content)=>{\n            const idx = files.findIndex((f)=>f.path === path);\n            if (idx >= 0) {\n                if (!files[idx].content?.trim()) files[idx].content = content;\n                return;\n            }\n            files.push({\n                path,\n                content\n            });\n        };\n        const getFile = (path)=>files.find((f)=>f.path === path)?.content;\n        const defaultAppTsx = \"export default function App() {\\n  return (\\n    <div style={{ padding: 24, fontFamily: 'system-ui' }}>\\n      <h1 style={{ margin: 0, fontSize: 22 }}>Generated App</h1>\\n      <p style={{ marginTop: 8, opacity: 0.8 }}>Edit src/App.tsx to start building.</p>\\n    </div>\\n  );\\n}\\n\";\n        const hasApp = Boolean(getFile(\"src/App.tsx\")) || Boolean(getFile(\"src/App.jsx\"));\n        if (!hasApp) upsertFile(\"src/App.tsx\", defaultAppTsx);\n        upsertFile(\"src/main.tsx\", `import React from 'react';\\nimport ReactDOM from 'react-dom/client';\\nimport App from './App';\\nimport './index.css';\\n\\nReactDOM.createRoot(document.getElementById('root')!).render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>\\n);\\n`);\n        upsertFile(\"src/index.css\", `:root { color-scheme: dark; }\\nbody { margin: 0; background: #000; color: #fff; }\\n`);\n        upsertFile(\"src/vite-env.d.ts\", `/// <reference types=\"vite/client\" />\\n`);\n        upsertFile(\"index.html\", `<!doctype html>\\n<html lang=\"en\">\\n  <head>\\n    <meta charset=\"UTF-8\" />\\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\\n    <title>${generatedData?.blueprint?.app_name || \"App\"}</title>\\n  </head>\\n  <body>\\n    <div id=\"root\"></div>\\n    <script type=\"module\" src=\"/src/main.tsx\"></script>\\n  </body>\\n</html>\\n`);\n        upsertFile(\"vite.config.ts\", `import { defineConfig } from 'vite';\\nimport react from '@vitejs/plugin-react';\\n\\nexport default defineConfig({\\n  plugins: [react()],\\n  server: { port: 5173, strictPort: true },\\n});\\n`);\n        upsertFile(\"package.json\", JSON.stringify({\n            name: String(generatedData?.blueprint?.app_name || \"generated-app\").toLowerCase().replace(/[^a-z0-9\\-]+/g, \"-\"),\n            private: true,\n            version: \"0.0.0\",\n            type: \"module\",\n            scripts: {\n                dev: \"vite\",\n                build: \"vite build\",\n                preview: \"vite preview\"\n            },\n            dependencies: {\n                react: \"^18.3.1\",\n                \"react-dom\": \"^18.3.1\"\n            },\n            devDependencies: {\n                \"@types/react\": \"^18.3.7\",\n                \"@types/react-dom\": \"^18.3.0\",\n                \"@vitejs/plugin-react\": \"^4.3.1\",\n                typescript: \"^5.6.3\",\n                vite: \"^5.4.0\"\n            }\n        }, null, 2));\n        const escapeHtml = (value)=>String(value ?? \"\").replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n        const appName = escapeHtml(generatedData.blueprint.app_name || \"Generated App\");\n        const description = escapeHtml(generatedData.blueprint.description || \"\");\n        const features = Array.isArray(generatedData.blueprint.features) ? generatedData.blueprint.features : [];\n        const pages = Array.isArray(generatedData.blueprint.pages) ? generatedData.blueprint.pages : [];\n        const previewHtml = `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>${appName}</title>\r\n    <style>\r\n      :root {\r\n        --bg: #000;\r\n        --panel: #0b0b0c;\r\n        --panel2: #111113;\r\n        --border: #232326;\r\n        --text: #f5f5f5;\r\n        --muted: #a1a1aa;\r\n        --accent: #2563eb;\r\n      }\r\n      * { box-sizing: border-box; }\r\n      body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; background: var(--bg); color: var(--text); }\r\n      .app { display: grid; grid-template-columns: 260px 1fr; min-height: 100vh; }\r\n      .sidebar { background: var(--panel); border-right: 1px solid var(--border); padding: 16px; }\r\n      .brand { font-weight: 700; font-size: 14px; letter-spacing: .2px; }\r\n      .desc { margin-top: 6px; font-size: 12px; color: var(--muted); line-height: 1.4; }\r\n      .nav { margin-top: 14px; display: grid; gap: 8px; }\r\n      .nav button { width: 100%; text-align: left; background: var(--panel2); border: 1px solid var(--border); color: var(--text); padding: 10px 10px; border-radius: 10px; cursor: pointer; font-size: 12px; }\r\n      .nav button.active { border-color: rgba(37, 99, 235, .6); box-shadow: 0 0 0 2px rgba(37, 99, 235, .25) inset; }\r\n      .main { padding: 20px; }\r\n      .card { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 16px; }\r\n      .title { font-size: 18px; font-weight: 700; margin: 0; }\r\n      .subtitle { margin: 8px 0 0; font-size: 12px; color: var(--muted); }\r\n      .section { margin-top: 14px; }\r\n      .section h3 { margin: 0 0 8px; font-size: 12px; color: #d4d4d8; font-weight: 600; }\r\n      ul { margin: 0; padding-left: 18px; }\r\n      li { margin: 6px 0; color: #e4e4e7; font-size: 12px; }\r\n      .cta { margin-top: 14px; display: flex; gap: 10px; flex-wrap: wrap; }\r\n      .cta button { background: var(--accent); border: 1px solid rgba(37, 99, 235, .6); color: white; padding: 10px 12px; border-radius: 10px; cursor: pointer; font-size: 12px; }\r\n      .cta button.secondary { background: transparent; color: #e4e4e7; border: 1px solid var(--border); }\r\n      .toast { position: fixed; bottom: 18px; right: 18px; background: #0b1220; border: 1px solid rgba(37, 99, 235, .35); color: #dbeafe; padding: 10px 12px; border-radius: 12px; font-size: 12px; display: none; }\r\n    </style>\r\n  </head>\r\n  <body>\r\n    <div class=\"app\">\r\n      <aside class=\"sidebar\">\r\n        <div class=\"brand\">${appName}</div>\r\n        <div class=\"desc\">${description}</div>\r\n        <div class=\"nav\" id=\"nav\"></div>\r\n      </aside>\r\n      <main class=\"main\">\r\n        <div class=\"card\">\r\n          <h1 class=\"title\" id=\"pageTitle\"></h1>\r\n          <p class=\"subtitle\" id=\"pageSubtitle\"></p>\r\n\r\n          <div class=\"section\">\r\n            <h3>Key features</h3>\r\n            <ul id=\"features\"></ul>\r\n          </div>\r\n\r\n          <div class=\"cta\">\r\n            <button id=\"primaryAction\">Primary action</button>\r\n            <button class=\"secondary\" id=\"secondaryAction\">Secondary action</button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n    <div class=\"toast\" id=\"toast\"></div>\r\n    <script>\r\n      const pages = ${JSON.stringify(pages.length ? pages : [\n            \"Home\",\n            \"Dashboard\",\n            \"Settings\"\n        ])};\r\n      const features = ${JSON.stringify(features.length ? features : [\n            \"Create items\",\n            \"Edit items\",\n            \"Search\",\n            \"Basic dashboard\"\n        ])};\r\n      const nav = document.getElementById('nav');\r\n      const pageTitle = document.getElementById('pageTitle');\r\n      const pageSubtitle = document.getElementById('pageSubtitle');\r\n      const featuresEl = document.getElementById('features');\r\n      const toast = document.getElementById('toast');\r\n\r\n      function showToast(msg) {\r\n        toast.textContent = msg;\r\n        toast.style.display = 'block';\r\n        clearTimeout(window.__toastTimeout);\r\n        window.__toastTimeout = setTimeout(() => (toast.style.display = 'none'), 1400);\r\n      }\r\n\r\n      function renderFeatures() {\r\n        featuresEl.innerHTML = '';\r\n        features.slice(0, 8).forEach((f) => {\r\n          const li = document.createElement('li');\r\n          li.textContent = f;\r\n          featuresEl.appendChild(li);\r\n        });\r\n      }\r\n\r\n      function setActive(page) {\r\n        pageTitle.textContent = page;\r\n        pageSubtitle.textContent = 'This is a live preview shell. Your full app code is in the generated files.';\r\n\r\n        [...nav.querySelectorAll('button')].forEach((b) => {\r\n          b.classList.toggle('active', b.dataset.page === page);\r\n        });\r\n      }\r\n\r\n      function renderNav() {\r\n        nav.innerHTML = '';\r\n        pages.slice(0, 8).forEach((p, i) => {\r\n          const btn = document.createElement('button');\r\n          btn.textContent = p;\r\n          btn.dataset.page = p;\r\n          btn.className = i === 0 ? 'active' : '';\r\n          btn.onclick = () => setActive(p);\r\n          nav.appendChild(btn);\r\n        });\r\n        setActive(pages[0] || 'Home');\r\n      }\r\n\r\n      document.getElementById('primaryAction').onclick = () => showToast('Primary action clicked');\r\n      document.getElementById('secondaryAction').onclick = () => showToast('Secondary action clicked');\r\n\r\n      renderNav();\r\n      renderFeatures();\r\n    </script>\r\n  </body>\r\n</html>`;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            blueprint: generatedData.blueprint,\n            files,\n            previewHtml,\n            zipUrl: null\n        });\n    } catch (error) {\n        console.error(\"Error in build API:\", error);\n        const msg = error instanceof Error ? error.message : String(error ?? \"Unknown error\");\n        const m = msg.match(/retryDelay\"\\s*:\\s*\"(\\d+)s\"/i);\n        const retryAfterSeconds = m ? Number(m[1]) : undefined;\n        const isRateLimited = msg.includes(\"Gemini API Error: 429\") || msg.includes(\"RESOURCE_EXHAUSTED\");\n        if (isRateLimited) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"RATE_LIMITED\",\n                details: msg,\n                retryAfterSeconds: retryAfterSeconds ?? 60\n            }, {\n                status: 429,\n                headers: {\n                    \"Retry-After\": String(retryAfterSeconds ?? 60)\n                }\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate app\",\n            details: msg\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2xGO2dCQUNFTSxRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGVBQWVsQyxPQUFPMkIscUJBQXFCO2dCQUFJO1lBQzVEO1FBRUo7UUFDQSxPQUFPL0UscURBQVlBLENBQUNNLElBQUksQ0FDdEI7WUFBRW1FLE9BQU87WUFBMEJXLFNBQVNUO1FBQUksR0FDaEQ7WUFBRVUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1hcHAtYnVpbGRlci13ZWIvLi9hcHAvYXBpL2J1aWxkL3JvdXRlLnRzPzE5YTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRleHQgfSBmcm9tICdAL2FwcC9zZXJ2aWNlcy9nZW1pbmknO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHByb2plY3RJZCwgbWVzc2FnZXMgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG5cclxuICAgIGNvbnN0IGNvbnZlcnNhdGlvblRleHQgPSBBcnJheS5pc0FycmF5KG1lc3NhZ2VzKVxyXG4gICAgICA/IG1lc3NhZ2VzXHJcbiAgICAgICAgICAuc2xpY2UoLTQwKVxyXG4gICAgICAgICAgLm1hcCgobTogYW55KSA9PiBgJHttLnJvbGU/LnRvVXBwZXJDYXNlPy4oKSB8fCAnVVNFUid9OiAke20uY29udGVudCB8fCAnJ31gKVxyXG4gICAgICAgICAgLmpvaW4oJ1xcbicpXHJcbiAgICAgIDogJyc7XHJcblxyXG4gICAgY29uc3QgcHJvbXB0ID0gYFlvdSBhcmUgYSBzZW5pb3IgcHJvZHVjdCBlbmdpbmVlci5cclxuXHJcbkJhc2VkIG9uIHRoZSB1c2VyIGNvbnZlcnNhdGlvbiBiZWxvdywgZ2VuZXJhdGUgYSBzbWFsbCB3ZWIgYXBwIGJsdWVwcmludCBhbmQgc3RhcnRlciBjb2RlLlxyXG5cclxuQ29udmVyc2F0aW9uOlxyXG4ke2NvbnZlcnNhdGlvblRleHR9XHJcblxyXG5SZXR1cm4gSlNPTiBPTkxZIHdpdGggdGhpcyBzdHJ1Y3R1cmU6XHJcbntcclxuICBcImJsdWVwcmludFwiOiB7XHJcbiAgICBcImFwcF9uYW1lXCI6IFwic3RyaW5nXCIsXHJcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwic3RyaW5nXCIsXHJcbiAgICBcImNvbXBvbmVudHNcIjogW1wic3RyaW5nXCJdLFxyXG4gICAgXCJmZWF0dXJlc1wiOiBbXCJzdHJpbmdcIl0sXHJcbiAgICBcInBhZ2VzXCI6IFtcInN0cmluZ1wiXVxyXG4gIH0sXHJcbiAgXCJmaWxlc1wiOiBbXHJcbiAgICB7IFwicGF0aFwiOiBcInN0cmluZ1wiLCBcImNvbnRlbnRcIjogXCJzdHJpbmdcIiB9XHJcbiAgXVxyXG59XHJcblxyXG5Db25zdHJhaW50czpcclxuLSBLZWVwIGl0IG1pbmltYWwgYW5kIGNvbnNpc3RlbnQuXHJcbi0gUHJlZmVyIFJlYWN0ICsgVGFpbHdpbmQgY2xhc3NlcyBpbiBjb2RlLlxyXG4tIElNUE9SVEFOVDogRG8gTk9UIGdlbmVyYXRlIGF1dGhlbnRpY2F0aW9uIHRoYXQgY2FsbHMgcmVhbCBuZXR3b3JrIGVuZHBvaW50cyAobm8gL2FwaS9sb2dpbiwgL2FwaS9hdXRoLCBldGMuKSB1bmxlc3MgeW91IGFsc28gZ2VuZXJhdGUgdGhlIHNlcnZlci9iYWNrZW5kIGZvciBpdC5cclxuLSBJZiB0aGUgdXNlciBhc2tzIGZvciBzaWduLWluL3NpZ24tdXAsIGltcGxlbWVudCBhIHB1cmVseSBjbGllbnQtc2lkZSBtb2NrIChlLmcuIGxvY2FsU3RvcmFnZSkgdGhhdCBuZXZlciBmYWlscyBpbiBwcmV2aWV3LlxyXG4tIERvIG5vdCBpbmNsdWRlIG1hcmtkb3duIGZlbmNlcy5cclxuYDtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdlbmVyYXRlVGV4dChwcm9tcHQpO1xyXG5cclxuICAgIGNvbnN0IGV4dHJhY3RKc29uID0gKHJhdzogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0ID0gcmF3LmluZGV4T2YoJ3snKTtcclxuICAgICAgY29uc3QgZW5kID0gcmF3Lmxhc3RJbmRleE9mKCd9Jyk7XHJcbiAgICAgIGlmIChzdGFydCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fCBlbmQgPD0gc3RhcnQpIHJldHVybiBudWxsO1xyXG4gICAgICByZXR1cm4gcmF3LnNsaWNlKHN0YXJ0LCBlbmQgKyAxKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc2FmZVBhcnNlID0gKHJhdzogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmF3KTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0gZXh0cmFjdEpzb24ocmF3KTtcclxuICAgICAgICBpZiAoIWV4dHJhY3RlZCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGV4dHJhY3RlZCk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgbGV0IGdlbmVyYXRlZERhdGE6IGFueSA9IHNhZmVQYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgaWYgKCFnZW5lcmF0ZWREYXRhPy5ibHVlcHJpbnQgfHwgIUFycmF5LmlzQXJyYXkoZ2VuZXJhdGVkRGF0YT8uZmlsZXMpKSB7XHJcbiAgICAgIGdlbmVyYXRlZERhdGEgPSB7XHJcbiAgICAgICAgYmx1ZXByaW50OiB7XHJcbiAgICAgICAgICBhcHBfbmFtZTogJ0dlbmVyYXRlZCBBcHAnLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBcHAgYmFzZWQgb24geW91ciBjaGF0IHJlcXVpcmVtZW50cycsXHJcbiAgICAgICAgICBjb21wb25lbnRzOiBbJ0FwcCddLFxyXG4gICAgICAgICAgZmVhdHVyZXM6IFsnQ29yZSBmbG93cyBiYXNlZCBvbiB5b3VyIGFuc3dlcnMnXSxcclxuICAgICAgICAgIHBhZ2VzOiBbJ0hvbWUnXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZpbGVzOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhdGg6ICdzcmMvQXBwLnRzeCcsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6XHJcbiAgICAgICAgICAgICAgXCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAoKSB7XFxuICByZXR1cm4gKFxcbiAgICA8ZGl2IGNsYXNzTmFtZT1cXFwibWluLWgtc2NyZWVuIGJnLWJsYWNrIHRleHQtd2hpdGUgcC04XFxcIj5cXG4gICAgICA8aDEgY2xhc3NOYW1lPVxcXCJ0ZXh0LTJ4bCBmb250LWJvbGRcXFwiPkdlbmVyYXRlZCBBcHA8L2gxPlxcbiAgICAgIDxwIGNsYXNzTmFtZT1cXFwibXQtMiB0ZXh0LWdyYXktMzAwXFxcIj5UaGlzIGlzIGEgc3RhcnRlciBhcHAgZ2VuZXJhdGVkIGZyb20geW91ciByZXF1aXJlbWVudHMuPC9wPlxcbiAgICA8L2Rpdj5cXG4gICk7XFxufVxcblwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpbGVzOiB7IHBhdGg6IHN0cmluZzsgY29udGVudDogc3RyaW5nIH1bXSA9IEFycmF5LmlzQXJyYXkoZ2VuZXJhdGVkRGF0YS5maWxlcylcclxuICAgICAgPyBnZW5lcmF0ZWREYXRhLmZpbGVzLmZpbHRlcigoZjogYW55KSA9PiB0eXBlb2YgZj8ucGF0aCA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGY/LmNvbnRlbnQgPT09ICdzdHJpbmcnKVxyXG4gICAgICA6IFtdO1xyXG5cclxuICAgIGNvbnN0IHVwc2VydEZpbGUgPSAocGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpID0+IHtcclxuICAgICAgY29uc3QgaWR4ID0gZmlsZXMuZmluZEluZGV4KChmKSA9PiBmLnBhdGggPT09IHBhdGgpO1xyXG4gICAgICBpZiAoaWR4ID49IDApIHtcclxuICAgICAgICBpZiAoIWZpbGVzW2lkeF0uY29udGVudD8udHJpbSgpKSBmaWxlc1tpZHhdLmNvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBmaWxlcy5wdXNoKHsgcGF0aCwgY29udGVudCB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZ2V0RmlsZSA9IChwYXRoOiBzdHJpbmcpID0+IGZpbGVzLmZpbmQoKGYpID0+IGYucGF0aCA9PT0gcGF0aCk/LmNvbnRlbnQ7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdEFwcFRzeCA9XHJcbiAgICAgIFwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwKCkge1xcbiAgcmV0dXJuIChcXG4gICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAyNCwgZm9udEZhbWlseTogJ3N5c3RlbS11aScgfX0+XFxuICAgICAgPGgxIHN0eWxlPXt7IG1hcmdpbjogMCwgZm9udFNpemU6IDIyIH19PkdlbmVyYXRlZCBBcHA8L2gxPlxcbiAgICAgIDxwIHN0eWxlPXt7IG1hcmdpblRvcDogOCwgb3BhY2l0eTogMC44IH19PkVkaXQgc3JjL0FwcC50c3ggdG8gc3RhcnQgYnVpbGRpbmcuPC9wPlxcbiAgICA8L2Rpdj5cXG4gICk7XFxufVxcblwiO1xyXG5cclxuICAgIGNvbnN0IGhhc0FwcCA9IEJvb2xlYW4oZ2V0RmlsZSgnc3JjL0FwcC50c3gnKSkgfHwgQm9vbGVhbihnZXRGaWxlKCdzcmMvQXBwLmpzeCcpKTtcclxuICAgIGlmICghaGFzQXBwKSB1cHNlcnRGaWxlKCdzcmMvQXBwLnRzeCcsIGRlZmF1bHRBcHBUc3gpO1xyXG5cclxuICAgIHVwc2VydEZpbGUoXHJcbiAgICAgICdzcmMvbWFpbi50c3gnLFxyXG4gICAgICBgaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tL2NsaWVudCc7XFxuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XFxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XFxuXFxuUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpISkucmVuZGVyKFxcbiAgPFJlYWN0LlN0cmljdE1vZGU+XFxuICAgIDxBcHAgLz5cXG4gIDwvUmVhY3QuU3RyaWN0TW9kZT5cXG4pO1xcbmAsXHJcbiAgICApO1xyXG5cclxuICAgIHVwc2VydEZpbGUoJ3NyYy9pbmRleC5jc3MnLCBgOnJvb3QgeyBjb2xvci1zY2hlbWU6IGRhcms7IH1cXG5ib2R5IHsgbWFyZ2luOiAwOyBiYWNrZ3JvdW5kOiAjMDAwOyBjb2xvcjogI2ZmZjsgfVxcbmApO1xyXG4gICAgdXBzZXJ0RmlsZSgnc3JjL3ZpdGUtZW52LmQudHMnLCBgLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJ2aXRlL2NsaWVudFwiIC8+XFxuYCk7XHJcblxyXG4gICAgdXBzZXJ0RmlsZShcclxuICAgICAgJ2luZGV4Lmh0bWwnLFxyXG4gICAgICBgPCFkb2N0eXBlIGh0bWw+XFxuPGh0bWwgbGFuZz1cImVuXCI+XFxuICA8aGVhZD5cXG4gICAgPG1ldGEgY2hhcnNldD1cIlVURi04XCIgLz5cXG4gICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIiAvPlxcbiAgICA8dGl0bGU+JHtnZW5lcmF0ZWREYXRhPy5ibHVlcHJpbnQ/LmFwcF9uYW1lIHx8ICdBcHAnfTwvdGl0bGU+XFxuICA8L2hlYWQ+XFxuICA8Ym9keT5cXG4gICAgPGRpdiBpZD1cInJvb3RcIj48L2Rpdj5cXG4gICAgPHNjcmlwdCB0eXBlPVwibW9kdWxlXCIgc3JjPVwiL3NyYy9tYWluLnRzeFwiPjwvc2NyaXB0PlxcbiAgPC9ib2R5PlxcbjwvaHRtbD5cXG5gLFxyXG4gICAgKTtcclxuXHJcbiAgICB1cHNlcnRGaWxlKFxyXG4gICAgICAndml0ZS5jb25maWcudHMnLFxyXG4gICAgICBgaW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSAndml0ZSc7XFxuaW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0JztcXG5cXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoe1xcbiAgcGx1Z2luczogW3JlYWN0KCldLFxcbiAgc2VydmVyOiB7IHBvcnQ6IDUxNzMsIHN0cmljdFBvcnQ6IHRydWUgfSxcXG59KTtcXG5gLFxyXG4gICAgKTtcclxuXHJcbiAgICB1cHNlcnRGaWxlKFxyXG4gICAgICAncGFja2FnZS5qc29uJyxcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogU3RyaW5nKGdlbmVyYXRlZERhdGE/LmJsdWVwcmludD8uYXBwX25hbWUgfHwgJ2dlbmVyYXRlZC1hcHAnKVxyXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvW15hLXowLTlcXC1dKy9nLCAnLScpLFxyXG4gICAgICAgICAgcHJpdmF0ZTogdHJ1ZSxcclxuICAgICAgICAgIHZlcnNpb246ICcwLjAuMCcsXHJcbiAgICAgICAgICB0eXBlOiAnbW9kdWxlJyxcclxuICAgICAgICAgIHNjcmlwdHM6IHtcclxuICAgICAgICAgICAgZGV2OiAndml0ZScsXHJcbiAgICAgICAgICAgIGJ1aWxkOiAndml0ZSBidWlsZCcsXHJcbiAgICAgICAgICAgIHByZXZpZXc6ICd2aXRlIHByZXZpZXcnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRlcGVuZGVuY2llczoge1xyXG4gICAgICAgICAgICByZWFjdDogJ14xOC4zLjEnLFxyXG4gICAgICAgICAgICAncmVhY3QtZG9tJzogJ14xOC4zLjEnLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRldkRlcGVuZGVuY2llczoge1xyXG4gICAgICAgICAgICAnQHR5cGVzL3JlYWN0JzogJ14xOC4zLjcnLFxyXG4gICAgICAgICAgICAnQHR5cGVzL3JlYWN0LWRvbSc6ICdeMTguMy4wJyxcclxuICAgICAgICAgICAgJ0B2aXRlanMvcGx1Z2luLXJlYWN0JzogJ140LjMuMScsXHJcbiAgICAgICAgICAgIHR5cGVzY3JpcHQ6ICdeNS42LjMnLFxyXG4gICAgICAgICAgICB2aXRlOiAnXjUuNC4wJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBudWxsLFxyXG4gICAgICAgIDIsXHJcbiAgICAgICksXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGVzY2FwZUh0bWwgPSAodmFsdWU6IHVua25vd24pID0+XHJcbiAgICAgIFN0cmluZyh2YWx1ZSA/PyAnJylcclxuICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcclxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXHJcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxyXG4gICAgICAgIC5yZXBsYWNlKC8nL2csICcmIzAzOTsnKTtcclxuXHJcbiAgICBjb25zdCBhcHBOYW1lID0gZXNjYXBlSHRtbChnZW5lcmF0ZWREYXRhLmJsdWVwcmludC5hcHBfbmFtZSB8fCAnR2VuZXJhdGVkIEFwcCcpO1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBlc2NhcGVIdG1sKGdlbmVyYXRlZERhdGEuYmx1ZXByaW50LmRlc2NyaXB0aW9uIHx8ICcnKTtcclxuICAgIGNvbnN0IGZlYXR1cmVzOiBzdHJpbmdbXSA9IEFycmF5LmlzQXJyYXkoZ2VuZXJhdGVkRGF0YS5ibHVlcHJpbnQuZmVhdHVyZXMpID8gZ2VuZXJhdGVkRGF0YS5ibHVlcHJpbnQuZmVhdHVyZXMgOiBbXTtcclxuICAgIGNvbnN0IHBhZ2VzOiBzdHJpbmdbXSA9IEFycmF5LmlzQXJyYXkoZ2VuZXJhdGVkRGF0YS5ibHVlcHJpbnQucGFnZXMpID8gZ2VuZXJhdGVkRGF0YS5ibHVlcHJpbnQucGFnZXMgOiBbXTtcclxuXHJcbiAgICBjb25zdCBwcmV2aWV3SHRtbCA9IGA8IWRvY3R5cGUgaHRtbD5cclxuPGh0bWwgbGFuZz1cImVuXCI+XHJcbiAgPGhlYWQ+XHJcbiAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIiAvPlxyXG4gICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIiAvPlxyXG4gICAgPHRpdGxlPiR7YXBwTmFtZX08L3RpdGxlPlxyXG4gICAgPHN0eWxlPlxyXG4gICAgICA6cm9vdCB7XHJcbiAgICAgICAgLS1iZzogIzAwMDtcclxuICAgICAgICAtLXBhbmVsOiAjMGIwYjBjO1xyXG4gICAgICAgIC0tcGFuZWwyOiAjMTExMTEzO1xyXG4gICAgICAgIC0tYm9yZGVyOiAjMjMyMzI2O1xyXG4gICAgICAgIC0tdGV4dDogI2Y1ZjVmNTtcclxuICAgICAgICAtLW11dGVkOiAjYTFhMWFhO1xyXG4gICAgICAgIC0tYWNjZW50OiAjMjU2M2ViO1xyXG4gICAgICB9XHJcbiAgICAgICogeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9XHJcbiAgICAgIGJvZHkgeyBtYXJnaW46IDA7IGZvbnQtZmFtaWx5OiB1aS1zYW5zLXNlcmlmLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIEFyaWFsOyBiYWNrZ3JvdW5kOiB2YXIoLS1iZyk7IGNvbG9yOiB2YXIoLS10ZXh0KTsgfVxyXG4gICAgICAuYXBwIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyNjBweCAxZnI7IG1pbi1oZWlnaHQ6IDEwMHZoOyB9XHJcbiAgICAgIC5zaWRlYmFyIHsgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwpOyBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBwYWRkaW5nOiAxNnB4OyB9XHJcbiAgICAgIC5icmFuZCB7IGZvbnQtd2VpZ2h0OiA3MDA7IGZvbnQtc2l6ZTogMTRweDsgbGV0dGVyLXNwYWNpbmc6IC4ycHg7IH1cclxuICAgICAgLmRlc2MgeyBtYXJnaW4tdG9wOiA2cHg7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6IHZhcigtLW11dGVkKTsgbGluZS1oZWlnaHQ6IDEuNDsgfVxyXG4gICAgICAubmF2IHsgbWFyZ2luLXRvcDogMTRweDsgZGlzcGxheTogZ3JpZDsgZ2FwOiA4cHg7IH1cclxuICAgICAgLm5hdiBidXR0b24geyB3aWR0aDogMTAwJTsgdGV4dC1hbGlnbjogbGVmdDsgYmFja2dyb3VuZDogdmFyKC0tcGFuZWwyKTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgY29sb3I6IHZhcigtLXRleHQpOyBwYWRkaW5nOiAxMHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxMnB4OyB9XHJcbiAgICAgIC5uYXYgYnV0dG9uLmFjdGl2ZSB7IGJvcmRlci1jb2xvcjogcmdiYSgzNywgOTksIDIzNSwgLjYpOyBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgzNywgOTksIDIzNSwgLjI1KSBpbnNldDsgfVxyXG4gICAgICAubWFpbiB7IHBhZGRpbmc6IDIwcHg7IH1cclxuICAgICAgLmNhcmQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDE0cHg7IHBhZGRpbmc6IDE2cHg7IH1cclxuICAgICAgLnRpdGxlIHsgZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogNzAwOyBtYXJnaW46IDA7IH1cclxuICAgICAgLnN1YnRpdGxlIHsgbWFyZ2luOiA4cHggMCAwOyBmb250LXNpemU6IDEycHg7IGNvbG9yOiB2YXIoLS1tdXRlZCk7IH1cclxuICAgICAgLnNlY3Rpb24geyBtYXJnaW4tdG9wOiAxNHB4OyB9XHJcbiAgICAgIC5zZWN0aW9uIGgzIHsgbWFyZ2luOiAwIDAgOHB4OyBmb250LXNpemU6IDEycHg7IGNvbG9yOiAjZDRkNGQ4OyBmb250LXdlaWdodDogNjAwOyB9XHJcbiAgICAgIHVsIHsgbWFyZ2luOiAwOyBwYWRkaW5nLWxlZnQ6IDE4cHg7IH1cclxuICAgICAgbGkgeyBtYXJnaW46IDZweCAwOyBjb2xvcjogI2U0ZTRlNzsgZm9udC1zaXplOiAxMnB4OyB9XHJcbiAgICAgIC5jdGEgeyBtYXJnaW4tdG9wOiAxNHB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGZsZXgtd3JhcDogd3JhcDsgfVxyXG4gICAgICAuY3RhIGJ1dHRvbiB7IGJhY2tncm91bmQ6IHZhcigtLWFjY2VudCk7IGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzcsIDk5LCAyMzUsIC42KTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMHB4IDEycHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxMnB4OyB9XHJcbiAgICAgIC5jdGEgYnV0dG9uLnNlY29uZGFyeSB7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBjb2xvcjogI2U0ZTRlNzsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgfVxyXG4gICAgICAudG9hc3QgeyBwb3NpdGlvbjogZml4ZWQ7IGJvdHRvbTogMThweDsgcmlnaHQ6IDE4cHg7IGJhY2tncm91bmQ6ICMwYjEyMjA7IGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMzcsIDk5LCAyMzUsIC4zNSk7IGNvbG9yOiAjZGJlYWZlOyBwYWRkaW5nOiAxMHB4IDEycHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGZvbnQtc2l6ZTogMTJweDsgZGlzcGxheTogbm9uZTsgfVxyXG4gICAgPC9zdHlsZT5cclxuICA8L2hlYWQ+XHJcbiAgPGJvZHk+XHJcbiAgICA8ZGl2IGNsYXNzPVwiYXBwXCI+XHJcbiAgICAgIDxhc2lkZSBjbGFzcz1cInNpZGViYXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnJhbmRcIj4ke2FwcE5hbWV9PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj4ke2Rlc2NyaXB0aW9ufTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJuYXZcIiBpZD1cIm5hdlwiPjwvZGl2PlxyXG4gICAgICA8L2FzaWRlPlxyXG4gICAgICA8bWFpbiBjbGFzcz1cIm1haW5cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxyXG4gICAgICAgICAgPGgxIGNsYXNzPVwidGl0bGVcIiBpZD1cInBhZ2VUaXRsZVwiPjwvaDE+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cInN1YnRpdGxlXCIgaWQ9XCJwYWdlU3VidGl0bGVcIj48L3A+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb25cIj5cclxuICAgICAgICAgICAgPGgzPktleSBmZWF0dXJlczwvaDM+XHJcbiAgICAgICAgICAgIDx1bCBpZD1cImZlYXR1cmVzXCI+PC91bD5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjdGFcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByaW1hcnlBY3Rpb25cIj5QcmltYXJ5IGFjdGlvbjwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2Vjb25kYXJ5XCIgaWQ9XCJzZWNvbmRhcnlBY3Rpb25cIj5TZWNvbmRhcnkgYWN0aW9uPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9tYWluPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwidG9hc3RcIiBpZD1cInRvYXN0XCI+PC9kaXY+XHJcbiAgICA8c2NyaXB0PlxyXG4gICAgICBjb25zdCBwYWdlcyA9ICR7SlNPTi5zdHJpbmdpZnkocGFnZXMubGVuZ3RoID8gcGFnZXMgOiBbJ0hvbWUnLCAnRGFzaGJvYXJkJywgJ1NldHRpbmdzJ10pfTtcclxuICAgICAgY29uc3QgZmVhdHVyZXMgPSAke0pTT04uc3RyaW5naWZ5KGZlYXR1cmVzLmxlbmd0aCA/IGZlYXR1cmVzIDogWydDcmVhdGUgaXRlbXMnLCAnRWRpdCBpdGVtcycsICdTZWFyY2gnLCAnQmFzaWMgZGFzaGJvYXJkJ10pfTtcclxuICAgICAgY29uc3QgbmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdicpO1xyXG4gICAgICBjb25zdCBwYWdlVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZVRpdGxlJyk7XHJcbiAgICAgIGNvbnN0IHBhZ2VTdWJ0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlU3VidGl0bGUnKTtcclxuICAgICAgY29uc3QgZmVhdHVyZXNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWF0dXJlcycpO1xyXG4gICAgICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2FzdCcpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2hvd1RvYXN0KG1zZykge1xyXG4gICAgICAgIHRvYXN0LnRleHRDb250ZW50ID0gbXNnO1xyXG4gICAgICAgIHRvYXN0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh3aW5kb3cuX190b2FzdFRpbWVvdXQpO1xyXG4gICAgICAgIHdpbmRvdy5fX3RvYXN0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gKHRvYXN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpLCAxNDAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcmVuZGVyRmVhdHVyZXMoKSB7XHJcbiAgICAgICAgZmVhdHVyZXNFbC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBmZWF0dXJlcy5zbGljZSgwLCA4KS5mb3JFYWNoKChmKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICBsaS50ZXh0Q29udGVudCA9IGY7XHJcbiAgICAgICAgICBmZWF0dXJlc0VsLmFwcGVuZENoaWxkKGxpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0QWN0aXZlKHBhZ2UpIHtcclxuICAgICAgICBwYWdlVGl0bGUudGV4dENvbnRlbnQgPSBwYWdlO1xyXG4gICAgICAgIHBhZ2VTdWJ0aXRsZS50ZXh0Q29udGVudCA9ICdUaGlzIGlzIGEgbGl2ZSBwcmV2aWV3IHNoZWxsLiBZb3VyIGZ1bGwgYXBwIGNvZGUgaXMgaW4gdGhlIGdlbmVyYXRlZCBmaWxlcy4nO1xyXG5cclxuICAgICAgICBbLi4ubmF2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpXS5mb3JFYWNoKChiKSA9PiB7XHJcbiAgICAgICAgICBiLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGIuZGF0YXNldC5wYWdlID09PSBwYWdlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcmVuZGVyTmF2KCkge1xyXG4gICAgICAgIG5hdi5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBwYWdlcy5zbGljZSgwLCA4KS5mb3JFYWNoKChwLCBpKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IHA7XHJcbiAgICAgICAgICBidG4uZGF0YXNldC5wYWdlID0gcDtcclxuICAgICAgICAgIGJ0bi5jbGFzc05hbWUgPSBpID09PSAwID8gJ2FjdGl2ZScgOiAnJztcclxuICAgICAgICAgIGJ0bi5vbmNsaWNrID0gKCkgPT4gc2V0QWN0aXZlKHApO1xyXG4gICAgICAgICAgbmF2LmFwcGVuZENoaWxkKGJ0bik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0QWN0aXZlKHBhZ2VzWzBdIHx8ICdIb21lJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmltYXJ5QWN0aW9uJykub25jbGljayA9ICgpID0+IHNob3dUb2FzdCgnUHJpbWFyeSBhY3Rpb24gY2xpY2tlZCcpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vjb25kYXJ5QWN0aW9uJykub25jbGljayA9ICgpID0+IHNob3dUb2FzdCgnU2Vjb25kYXJ5IGFjdGlvbiBjbGlja2VkJyk7XHJcblxyXG4gICAgICByZW5kZXJOYXYoKTtcclxuICAgICAgcmVuZGVyRmVhdHVyZXMoKTtcclxuICAgIDwvc2NyaXB0PlxyXG4gIDwvYm9keT5cclxuPC9odG1sPmA7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgYmx1ZXByaW50OiBnZW5lcmF0ZWREYXRhLmJsdWVwcmludCxcclxuICAgICAgZmlsZXMsXHJcbiAgICAgIHByZXZpZXdIdG1sLFxyXG4gICAgICB6aXBVcmw6IG51bGwsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gYnVpbGQgQVBJOicsIGVycm9yKTtcclxuICAgIGNvbnN0IG1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yID8/ICdVbmtub3duIGVycm9yJyk7XHJcbiAgICBjb25zdCBtID0gbXNnLm1hdGNoKC9yZXRyeURlbGF5XCJcXHMqOlxccypcIihcXGQrKXNcIi9pKTtcclxuICAgIGNvbnN0IHJldHJ5QWZ0ZXJTZWNvbmRzID0gbSA/IE51bWJlcihtWzFdKSA6IHVuZGVmaW5lZDtcclxuICAgIGNvbnN0IGlzUmF0ZUxpbWl0ZWQgPSBtc2cuaW5jbHVkZXMoJ0dlbWluaSBBUEkgRXJyb3I6IDQyOScpIHx8IG1zZy5pbmNsdWRlcygnUkVTT1VSQ0VfRVhIQVVTVEVEJyk7XHJcbiAgICBpZiAoaXNSYXRlTGltaXRlZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1JBVEVfTElNSVRFRCcsIGRldGFpbHM6IG1zZywgcmV0cnlBZnRlclNlY29uZHM6IHJldHJ5QWZ0ZXJTZWNvbmRzID8/IDYwIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc3RhdHVzOiA0MjksXHJcbiAgICAgICAgICBoZWFkZXJzOiB7ICdSZXRyeS1BZnRlcic6IFN0cmluZyhyZXRyeUFmdGVyU2Vjb25kcyA/PyA2MCkgfSxcclxuICAgICAgICB9LFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGdlbmVyYXRlIGFwcCcsIGRldGFpbHM6IG1zZyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZW5lcmF0ZVRleHQiLCJQT1NUIiwicmVxdWVzdCIsInByb2plY3RJZCIsIm1lc3NhZ2VzIiwianNvbiIsImNvbnZlcnNhdGlvblRleHQiLCJBcnJheSIsImlzQXJyYXkiLCJzbGljZSIsIm1hcCIsIm0iLCJyb2xlIiwidG9VcHBlckNhc2UiLCJjb250ZW50Iiwiam9pbiIsInByb21wdCIsInJlc3BvbnNlIiwiZXh0cmFjdEpzb24iLCJyYXciLCJzdGFydCIsImluZGV4T2YiLCJlbmQiLCJsYXN0SW5kZXhPZiIsInNhZmVQYXJzZSIsIkpTT04iLCJwYXJzZSIsImV4dHJhY3RlZCIsImdlbmVyYXRlZERhdGEiLCJibHVlcHJpbnQiLCJmaWxlcyIsImFwcF9uYW1lIiwiZGVzY3JpcHRpb24iLCJjb21wb25lbnRzIiwiZmVhdHVyZXMiLCJwYWdlcyIsInBhdGgiLCJmaWx0ZXIiLCJmIiwidXBzZXJ0RmlsZSIsImlkeCIsImZpbmRJbmRleCIsInRyaW0iLCJwdXNoIiwiZ2V0RmlsZSIsImZpbmQiLCJkZWZhdWx0QXBwVHN4IiwiaGFzQXBwIiwiQm9vbGVhbiIsInN0cmluZ2lmeSIsIm5hbWUiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJwcml2YXRlIiwidmVyc2lvbiIsInR5cGUiLCJzY3JpcHRzIiwiZGV2IiwiYnVpbGQiLCJwcmV2aWV3IiwiZGVwZW5kZW5jaWVzIiwicmVhY3QiLCJkZXZEZXBlbmRlbmNpZXMiLCJ0eXBlc2NyaXB0Iiwidml0ZSIsImVzY2FwZUh0bWwiLCJ2YWx1ZSIsImFwcE5hbWUiLCJwcmV2aWV3SHRtbCIsImxlbmd0aCIsInppcFVybCIsImVycm9yIiwiY29uc29sZSIsIm1zZyIsIkVycm9yIiwibWVzc2FnZSIsIm1hdGNoIiwicmV0cnlBZnRlclNlY29uZHMiLCJOdW1iZXIiLCJ1bmRlZmluZWQiLCJpc1JhdGVMaW1pdGVkIiwiaW5jbHVkZXMiLCJkZXRhaWxzIiwic3RhdHVzIiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/build/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/services/gemini.ts":
/*!********************************!*\
  !*** ./app/services/gemini.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateText: () => (/* binding */ generateText)\n/* harmony export */ });\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! server-only */ \"(rsc)/./node_modules/next/dist/compiled/server-only/empty.js\");\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(server_only__WEBPACK_IMPORTED_MODULE_0__);\n// app/services/gemini.ts\n\nconst GEMINI_API_URL = \"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent\";\nasync function generateText(prompt) {\n    try {\n        console.log(\"Calling Gemini API with prompt:\", prompt);\n        const apiKey = process.env.GEMINI_API_KEY;\n        if (!apiKey) {\n            throw new Error(\"Missing GEMINI_API_KEY. Set it in your environment (.env.local) and restart the dev server.\");\n        }\n        const redactedKey = apiKey.length <= 8 ? \"***\" : `${apiKey.slice(0, 4)}...${apiKey.slice(-4)}`;\n        console.log(\"Gemini API key loaded (redacted):\", redactedKey);\n        const response = await fetch(`${GEMINI_API_URL}?key=${apiKey}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                contents: [\n                    {\n                        parts: [\n                            {\n                                text: prompt\n                            }\n                        ]\n                    }\n                ]\n            })\n        });\n        console.log(\"Gemini API response status:\", response.status);\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"Gemini API error response:\", errorText);\n            throw new Error(`Gemini API Error: ${response.status} - ${errorText}`);\n        }\n        const data = await response.json();\n        console.log(\"Gemini API response data:\", data);\n        const text = data.candidates?.[0]?.content?.parts?.[0]?.text;\n        if (!text) {\n            console.error(\"No text in Gemini response:\", data);\n            throw new Error(\"No valid response from Gemini\");\n        }\n        return text;\n    } catch (error) {\n        console.error(\"Error generating text with Gemini:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvc2VydmljZXMvZ2VtaW5pLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHlCQUF5QjtBQUNKO0FBRXJCLE1BQU1BLGlCQUFpQjtBQUVoQixlQUFlQyxhQUFhQyxNQUFjO0lBQy9DLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDLG1DQUFtQ0Y7UUFFL0MsTUFBTUcsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO1FBQ3pDLElBQUksQ0FBQ0gsUUFBUTtZQUNYLE1BQU0sSUFBSUksTUFBTTtRQUNsQjtRQUVBLE1BQU1DLGNBQWNMLE9BQU9NLE1BQU0sSUFBSSxJQUFJLFFBQVEsQ0FBQyxFQUFFTixPQUFPTyxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsRUFBRVAsT0FBT08sS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQzlGVCxRQUFRQyxHQUFHLENBQUMscUNBQXFDTTtRQUVqRCxNQUFNRyxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFZCxlQUFlLEtBQUssRUFBRUssT0FBTyxDQUFDLEVBQUU7WUFDOURVLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7WUFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQkMsVUFBVTtvQkFBQzt3QkFDVEMsT0FBTzs0QkFBQztnQ0FDTkMsTUFBTXBCOzRCQUNSO3lCQUFFO29CQUNKO2lCQUFFO1lBQ0o7UUFDRjtRQUVBQyxRQUFRQyxHQUFHLENBQUMsK0JBQStCUyxTQUFTVSxNQUFNO1FBRTFELElBQUksQ0FBQ1YsU0FBU1csRUFBRSxFQUFFO1lBQ2hCLE1BQU1DLFlBQVksTUFBTVosU0FBU1MsSUFBSTtZQUNyQ25CLFFBQVF1QixLQUFLLENBQUMsOEJBQThCRDtZQUM1QyxNQUFNLElBQUloQixNQUFNLENBQUMsa0JBQWtCLEVBQUVJLFNBQVNVLE1BQU0sQ0FBQyxHQUFHLEVBQUVFLFVBQVUsQ0FBQztRQUN2RTtRQUVBLE1BQU1FLE9BQU8sTUFBTWQsU0FBU2UsSUFBSTtRQUNoQ3pCLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkJ1QjtRQUV6QyxNQUFNTCxPQUFPSyxLQUFLRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUVDLFNBQVNULE9BQU8sQ0FBQyxFQUFFLEVBQUVDO1FBQ3hELElBQUksQ0FBQ0EsTUFBTTtZQUNUbkIsUUFBUXVCLEtBQUssQ0FBQywrQkFBK0JDO1lBQzdDLE1BQU0sSUFBSWxCLE1BQU07UUFDbEI7UUFFQSxPQUFPYTtJQUNULEVBQUUsT0FBT0ksT0FBTztRQUNkdkIsUUFBUXVCLEtBQUssQ0FBQyxzQ0FBc0NBO1FBQ3BELE1BQU1BO0lBQ1I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWFwcC1idWlsZGVyLXdlYi8uL2FwcC9zZXJ2aWNlcy9nZW1pbmkudHM/MjkyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvc2VydmljZXMvZ2VtaW5pLnRzXHJcbmltcG9ydCAnc2VydmVyLW9ubHknO1xyXG5cclxuY29uc3QgR0VNSU5JX0FQSV9VUkwgPSAnaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL21vZGVscy9nZW1pbmktMi41LWZsYXNoOmdlbmVyYXRlQ29udGVudCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVUZXh0KHByb21wdDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdDYWxsaW5nIEdlbWluaSBBUEkgd2l0aCBwcm9tcHQ6JywgcHJvbXB0KTtcclxuICAgIFxyXG4gICAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVk7XHJcbiAgICBpZiAoIWFwaUtleSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgR0VNSU5JX0FQSV9LRVkuIFNldCBpdCBpbiB5b3VyIGVudmlyb25tZW50ICguZW52LmxvY2FsKSBhbmQgcmVzdGFydCB0aGUgZGV2IHNlcnZlci4nKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWRhY3RlZEtleSA9IGFwaUtleS5sZW5ndGggPD0gOCA/ICcqKionIDogYCR7YXBpS2V5LnNsaWNlKDAsIDQpfS4uLiR7YXBpS2V5LnNsaWNlKC00KX1gO1xyXG4gICAgY29uc29sZS5sb2coJ0dlbWluaSBBUEkga2V5IGxvYWRlZCAocmVkYWN0ZWQpOicsIHJlZGFjdGVkS2V5KTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtHRU1JTklfQVBJX1VSTH0/a2V5PSR7YXBpS2V5fWAsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgY29udGVudHM6IFt7XHJcbiAgICAgICAgICBwYXJ0czogW3tcclxuICAgICAgICAgICAgdGV4dDogcHJvbXB0XHJcbiAgICAgICAgICB9XVxyXG4gICAgICAgIH1dXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnR2VtaW5pIEFQSSByZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgY29uc29sZS5lcnJvcignR2VtaW5pIEFQSSBlcnJvciByZXNwb25zZTonLCBlcnJvclRleHQpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEdlbWluaSBBUEkgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3JUZXh0fWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygnR2VtaW5pIEFQSSByZXNwb25zZSBkYXRhOicsIGRhdGEpO1xyXG4gICAgXHJcbiAgICBjb25zdCB0ZXh0ID0gZGF0YS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5bMF0/LnRleHQ7XHJcbiAgICBpZiAoIXRleHQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTm8gdGV4dCBpbiBHZW1pbmkgcmVzcG9uc2U6JywgZGF0YSk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgcmVzcG9uc2UgZnJvbSBHZW1pbmknKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHRleHQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgdGV4dCB3aXRoIEdlbWluaTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiR0VNSU5JX0FQSV9VUkwiLCJnZW5lcmF0ZVRleHQiLCJwcm9tcHQiLCJjb25zb2xlIiwibG9nIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIkdFTUlOSV9BUElfS0VZIiwiRXJyb3IiLCJyZWRhY3RlZEtleSIsImxlbmd0aCIsInNsaWNlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRzIiwicGFydHMiLCJ0ZXh0Iiwic3RhdHVzIiwib2siLCJlcnJvclRleHQiLCJlcnJvciIsImRhdGEiLCJqc29uIiwiY2FuZGlkYXRlcyIsImNvbnRlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/services/gemini.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbuild%2Froute&page=%2Fapi%2Fbuild%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbuild%2Froute.ts&appDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CAI%20App%20Builder%5Cproject%5Cweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();