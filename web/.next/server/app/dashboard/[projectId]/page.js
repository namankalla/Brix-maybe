(()=>{var e={};e.id=2,e.ids=[2],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8555:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(3888),r(1506),r(5866);var s=r(3191),a=r(8716),n=r(7922),l=r.n(n),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["dashboard",{children:["[projectId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3888)),"E:\\AI App Builder\\FGH\\Brix-maybe\\web\\app\\dashboard\\[projectId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"E:\\AI App Builder\\FGH\\Brix-maybe\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\AI App Builder\\FGH\\Brix-maybe\\web\\app\\dashboard\\[projectId]\\page.tsx"],u="/dashboard/[projectId]/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/[projectId]/page",pathname:"/dashboard/[projectId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8638:(e,t,r)=>{Promise.resolve().then(r.bind(r,732))},6813:()=>{},1285:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},732:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var s=r(326),a=r(7577),n=r(5047),l=r(434),i=r(2881);let o=(0,i.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),d=(0,i.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),c=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function u({projects:e,currentProjectId:t,onNewProject:r,collapsed:a,onToggle:n}){return(0,s.jsxs)("aside",{className:`
      h-full flex flex-col 
      ${a?"w-16":"w-64"} 
      transition-all duration-200 
      bg-black border-r border-gray-900
      text-gray-200
    `,children:[(0,s.jsxs)("div",{className:"p-4 flex items-center justify-between border-b border-gray-900 h-16",children:[!a&&s.jsx("span",{className:"font-semibold text-white",children:"AI App Builder"}),s.jsx("button",{onClick:n,className:"p-1.5 rounded-md hover:bg-gray-800 text-gray-400 hover:text-white transition-colors","aria-label":a?"Expand sidebar":"Collapse sidebar",children:a?s.jsx(o,{size:18}):s.jsx(d,{size:18})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-2",children:[(0,s.jsxs)("button",{onClick:r,className:`flex items-center justify-center space-x-2 w-full mb-3 px-3 py-2.5 rounded-lg 
            bg-gray-900 hover:bg-gray-800 text-white 
            transition-colors duration-200
            ${a?"px-3":"px-4"}
          `,children:[s.jsx(c,{size:18,className:"flex-shrink-0"}),!a&&s.jsx("span",{children:"New Project"})]}),s.jsx("div",{className:"space-y-1",children:e.map(e=>(0,s.jsxs)(l.default,{href:`/dashboard/${e.id}`,className:`
                flex items-center px-3 py-2.5 rounded-lg text-sm 
                ${String(t)===e.id?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-900 hover:text-white"}
                transition-colors duration-200
                ${a?"justify-center":""}
              `,title:a?e.name:"",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 flex-shrink-0 ${String(t)===e.id?"bg-blue-500":"bg-gray-600"}`}),!a&&s.jsx("span",{className:"truncate",children:e.name})]},e.id))})]}),!a&&(0,s.jsxs)("div",{className:"p-3 border-t border-gray-900 text-xs text-gray-500",children:[s.jsx("p",{children:"AI App Builder v1.0"}),(0,s.jsxs)("p",{className:"mt-1",children:["\xa9 ",new Date().getFullYear()]})]})]})}let p=(0,i.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var x=r(9635);let m=(0,i.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),h=(0,i.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),g=(0,i.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),b=(0,i.Z)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);function y({canBuild:e,isBuilding:t,onClick:r}){return s.jsx("button",{disabled:!e||t,onClick:r,className:`
        inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200
        ${e?t?"bg-blue-900 text-blue-100":"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-800 text-gray-500 cursor-not-allowed"}
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-black
        disabled:opacity-70 disabled:cursor-not-allowed
        border border-blue-700
      `,children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(g,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Building..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(b,{className:"w-4 h-4"}),s.jsx("span",{children:"Build This App"})]})})}function f({title:e,canBuild:t,isBuilding:r,onBuild:n,onMenuToggle:l,userName:i,onSignOut:o}){let[d,c]=(0,a.useState)(!1),u=(0,a.useRef)(null);return(0,s.jsxs)("header",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-900 bg-black",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:l,className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800 focus:outline-none focus:ring-1 focus:ring-gray-600","aria-label":"Toggle menu",children:s.jsx(p,{size:20})}),s.jsx("h1",{className:"text-lg font-medium text-white",children:e})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(y,{canBuild:t,isBuilding:r,onClick:n}),i&&o&&(0,s.jsxs)("div",{className:"relative",ref:u,children:[(0,s.jsxs)("button",{onClick:()=>c(!d),className:"flex items-center space-x-2 px-3 py-1.5 text-sm rounded-md hover:bg-gray-900 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center text-gray-300",children:s.jsx(x.Z,{size:16})}),!r&&s.jsx("span",{className:"hidden md:inline text-sm text-gray-300",children:i}),s.jsx(m,{size:16,className:"text-gray-400"})]}),d&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-gray-900 border border-gray-800 z-50",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-300 border-b border-gray-800",children:[s.jsx("p",{className:"font-medium",children:i}),s.jsx("p",{className:"text-xs text-gray-500",children:"Free Plan"})]}),(0,s.jsxs)("button",{onClick:()=>{o(),c(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-gray-800 flex items-center space-x-2",children:[s.jsx(h,{size:16}),s.jsx("span",{children:"Sign out"})]})]})})]})]})]})}var j=r(7410),v=r(6812);function w({onSend:e,isLoading:t,placeholder:r}){let[n,l]=(0,a.useState)(""),i=(0,a.useRef)(null),o=r=>{r.preventDefault();let s=n.trim();s&&!t&&(e(s),l(""),i.current&&(i.current.style.height="auto"))};return s.jsx("div",{className:"sticky bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700",children:s.jsx("div",{className:"max-w-3xl mx-auto py-4 px-4",children:(0,s.jsxs)("form",{onSubmit:o,className:"relative",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("textarea",{ref:i,rows:1,className:"w-full max-h-[200px] min-h-[60px] px-4 py-3 pr-16 bg-gray-700 text-white rounded-xl border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 resize-none outline-none transition-all duration-200",placeholder:r||"Message AI App Builder...",value:n,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),o(e))},disabled:t}),s.jsx("button",{type:"submit",disabled:t||!n.trim(),className:`absolute right-2 bottom-2 p-2 rounded-lg ${t||!n.trim()?"text-gray-500":"text-white bg-blue-600 hover:bg-blue-700"} transition-colors`,"aria-label":"Send message",children:t?s.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):s.jsx(v.kcA,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"mt-2 text-xs text-center text-gray-400",children:"AI can make mistakes. Consider checking important information."})]})})})}var N=r(6824),k=r(5442);let S=[{id:"1",name:"E-commerce App",createdAt:new Date("2024-01-15").toISOString(),updatedAt:new Date("2024-01-20").toISOString(),messages:[],blueprint:null},{id:"2",name:"Task Manager",createdAt:new Date("2024-01-10").toISOString(),updatedAt:new Date("2024-01-18").toISOString(),messages:[],blueprint:null}];function I(){let e=(0,n.useParams)().projectId,t=(0,n.useRouter)(),[r,l]=(0,a.useState)(S),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)([]),[p,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)([]),[I,A]=(0,a.useState)(null),[P,M]=(0,a.useState)(""),[C,O]=(0,a.useState)(null),[B,T]=(0,a.useState)(null),D=(0,a.useMemo)(()=>r.find(t=>t.id===e)??r[0],[r,e]),z=(0,a.useMemo)(()=>C?Math.max(0,Math.ceil((C-Date.now())/1e3)):0,[C]),_=async t=>{let r=[...d,{id:String(Date.now()),role:"user",content:t,timestamp:new Date().toISOString()}];c(r),x(!0);try{let t=await (0,N.bG)(e,r,"interview");c([...r,t]),T(null)}catch(e){if(e instanceof N.MS&&429===e.status){let t=e.retryAfterSeconds??60;O(Date.now()+1e3*t),T(`Rate limit reached. Try again in ${t}s.`)}else T(e instanceof N.MS?e.bodyText||e.message:e instanceof Error?e.message:"Failed to send")}finally{x(!1)}},E=async()=>{h(!0);try{let r=await (0,N._l)(e,d);v(r.files||[]),A(r.previewHtml||null);try{sessionStorage.setItem(`build:${e}`,JSON.stringify({previewHtml:r.previewHtml||null,files:r.files||[]}))}catch{}t.push(`/dashboard/${e}/preview`)}catch(e){if(e instanceof N.MS&&429===e.status){let t=e.retryAfterSeconds??60;O(Date.now()+1e3*t),T(`Rate limit reached. Try again in ${t}s.`)}else T(e instanceof Error?e.message:"Build failed")}finally{h(!1)}},Z=async()=>{await k.O.auth.signOut(),t.replace("/sign-in")};return(0,s.jsxs)("div",{className:"flex h-screen w-full bg-gray-900 text-gray-100",children:[s.jsx(u,{projects:r,currentProjectId:e,onNewProject:()=>{let e={id:String(Date.now()),name:"New Project",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),messages:[],blueprint:null};l(t=>[e,...t]),c([]),v([]),A(null)},collapsed:i,onToggle:()=>o(!i)}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[s.jsx(f,{title:D?.name||"New Project",canBuild:g,isBuilding:m,onBuild:E,onMenuToggle:()=>o(!i),userName:P,onSignOut:Z}),s.jsx("div",{className:"flex-1 flex overflow-hidden",children:(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 bg-black",children:[B?s.jsx("div",{className:"mx-auto w-full max-w-3xl px-4 pt-3",children:s.jsx("div",{className:"rounded-lg border border-gray-800 bg-gray-950 px-3 py-2 text-xs text-gray-200",children:z>0?`Rate limited. Retry in ${z}s.`:B})}):null,s.jsx(j.Z,{messages:d,isLoading:p,onSuggestionClick:_}),s.jsx(w,{onSend:_,isLoading:p||z>0,placeholder:z>0?`Rate limited. Try again in ${z}s...`:"Describe the app you want to build..."})]})})]})]})}},7410:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(326),a=r(7577),n=r(7863);function l({role:e,content:t}){let r="user"===e;return s.jsx("div",{className:(0,n.cn)("group w-full",r?"bg-gray-900":"bg-gray-800","border-b border-gray-800/50"),children:s.jsx("div",{className:"max-w-3xl mx-auto py-4 px-4",children:(0,s.jsxs)("div",{className:(0,n.cn)("flex items-start space-x-4",r?"flex-row-reverse":"flex-row"),children:[s.jsx("div",{className:(0,n.cn)("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",r?"bg-blue-600":"bg-green-600"),children:r?"U":"AI"}),s.jsx("div",{className:(0,n.cn)("prose prose-invert max-w-none prose-p:leading-relaxed","prose-pre:bg-gray-900 prose-pre:p-4 prose-pre:rounded-lg prose-pre:shadow","prose-code:before:hidden prose-code:after:hidden prose-code:bg-gray-900 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:text-sm prose-code:text-gray-200","prose-ul:list-disc prose-ul:pl-5 prose-ol:list-decimal prose-ol:pl-5","prose-h1:text-xl prose-h2:text-lg prose-h3:text-base prose-h4:text-sm","prose-a:text-blue-400 hover:prose-a:underline","prose-blockquote:border-l-4 prose-blockquote:border-gray-600 prose-blockquote:pl-4 prose-blockquote:italic","prose-img:rounded-lg prose-img:border prose-img:border-gray-700","prose-table:border-collapse prose-table:w-full prose-th:bg-gray-800 prose-th:p-2 prose-td:p-2 prose-td:border-t prose-td:border-gray-700","prose-hr:border-t prose-hr:border-gray-700","prose-strong:font-semibold","prose-em:italic prose-em:text-gray-300","prose-code:font-mono prose-pre:overflow-x-auto","prose-li:marker:text-gray-400","prose-p:my-3 first:prose-p:mt-0 last:prose-p:mb-0 text-gray-200"),children:s.jsx("div",{dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br />")}})})]})})})}function i({messages:e,isLoading:t,onSuggestionClick:r}){let n=(0,a.useRef)(null);return s.jsx("div",{className:"flex-1 overflow-y-auto bg-black text-gray-100",children:s.jsx("div",{className:"max-w-3xl mx-auto py-6 px-4",children:0===e.length?s.jsx("div",{className:"h-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center space-y-6 max-w-2xl",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"What do you want to build?"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Iâ€™ll ask you a bunch of quick questions (like a product manager) and then generate the app when you click Build."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["A simple expense tracker for my family","A task manager for a small team","A fitness habit tracker with streaks","A food ordering app for my restaurant"].map(e=>s.jsx("button",{onClick:()=>r?.(e),className:"px-4 py-3 rounded-lg border border-gray-700 hover:bg-gray-800 text-left text-sm transition-colors",children:e},e))})]})}):(0,s.jsxs)("div",{className:"space-y-6",children:[e.map(e=>s.jsx(l,{role:e.role,content:e.content},e.id)),t&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400 text-sm py-2",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("div",{ref:n})]})})})}},6824:(e,t,r)=>{"use strict";r.d(t,{MS:()=>s,_l:()=>l,bG:()=>n});class s extends Error{constructor(e,t){super(e),this.name="ApiError",this.status=t.status,this.retryAfterSeconds=t.retryAfterSeconds,this.bodyText=t.bodyText}}async function a(e){let t;let r=await e.text().catch(()=>"");try{let e=JSON.parse(r);"number"==typeof e?.retryAfterSeconds&&(t=e.retryAfterSeconds)}catch{}return{text:r,retryAfterSeconds:t}}async function n(e,t,r="interview",n){let l=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,messages:t,mode:r,uiContext:n})});if(!l.ok){let{text:e,retryAfterSeconds:t}=await a(l);throw new s(`Failed to send message (${l.status})`,{status:l.status,retryAfterSeconds:t,bodyText:e||l.statusText})}return l.json()}async function l(e,t){let r=await fetch("/api/build",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,messages:t})});if(!r.ok){let{text:e,retryAfterSeconds:t}=await a(r);throw new s(`Failed to build project (${r.status})`,{status:r.status,retryAfterSeconds:t,bodyText:e||r.statusText})}return r.json()}},5442:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s=(0,r(5157).eI)("https://nxkjlkyodlcdmuisvmul.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54a2psa3lvZGxjZG11aXN2bXVsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzOTI2ODMsImV4cCI6MjA4MTk2ODY4M30.QkGGzM2LUx2k0J-mFQJEl2omfltE5_nGr-ePQafoG7Y",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"appforge.supabase.auth"}})},7863:(e,t,r)=>{"use strict";function s(...e){return e.filter(Boolean).join(" ")}r.d(t,{cn:()=>s})},9635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`E:\AI App Builder\FGH\Brix-maybe\web\app\dashboard\[projectId]\page.tsx#default`)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(9510);r(7272);let a={title:"AI App Builder",description:"Chat-first AI App Builder (MVP)"};function n({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:"min-h-screen bg-background text-foreground",children:e})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,471,566,812],()=>r(8555));module.exports=s})();